<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="stock_valuation_layer_tree_custom" model="ir.ui.view">
        <field name="name">stock.valuation.layer.tree.custom</field>
        <field name="model">stock.valuation.layer</field>
        <field name="inherit_id" ref="stock_account.stock_valuation_layer_tree" />
        <field name="arch" type="xml">

            <button name="action_valuation_at_date" position="after">
                <button name="action_set_qty_balances_computed_false"
                    string="Reset Balances"
                    type="object"
                    class="btn-primary ms-1"
                    groups="mhma_inventory.inventory_dev_group"
                    display="always" />
                <button name="action_recompute_avcost"
                    string="Recompute AVCOST"
                    type="object"
                    class="btn-primary ms-1"
                    groups="mhma_inventory.inventory_dev_group"
                    display="always" />
                <button name="action_compute_qty_balances"
                    string="Compute Balances"
                    type="object"
                    class="btn-primary ms-1"
                    groups="mhma_inventory.inventory_dev_group"
                    display="always" />

                <button name="action_inventory_ledger_summary"
                    string="Summary"
                    type="object"
                    class="btn-primary ms-1"
                    groups="mhma_inventory.inventory_dev_group"
                    display="always" />
            </button>


            <field name="quantity" position="before">
                <field name="active" optional="1"  />
                <field name="opening_qty" decoration-info="1" />
                <field name="opening_val" optional="1" decoration-info="1" />
                <field name="inbound_qty" sum="Total Inbound Quantity" />
                <field name="inbound_val" optional="1" sum="Total Inbound Value" />
            </field>
            <field name="quantity" position="after">
                <field name="outbound_qty" sum="Total Outbound Quantity" />
                <field name="outbound_val" optional="1" sum="Total Outbound Value" />
                <field name="closing_qty" decoration-success="1" />
                <field name="closing_val" optional="1" decoration-success="1" />
                <field name="qty_balances_computed" optional="1" />
                <!-- <field name="partner_id" optional="1" /> -->
                <field name="partner_move_id" optional="1" />
                <field name="depart_id" optional="1" />


            </field>

            <field name="unit_cost" position="before">
                <field name="prev_avcost" optional="1" decoration-info="1" />
            </field>
            <field name="unit_cost" position="after">
                <field name="avcost" optional="1" decoration-success="1" />
            </field>

            <field name="remaining_value" position="after">
                <field name="avcost_value_total" optional="1" />
                <field name="create_date" optional="1" />
                <field name="create_uid" optional="1" />
                <field name="write_date" optional="1" />
                <field name="write_uid" optional="1" />
            </field>

        </field>
    </record>

    <!-- stock_valuation_layer_tree_simple -->
    <record id="stock_valuation_layer_tree_simple" model="ir.ui.view">
        <field name="name">stock.valuation.layer.tree.simple</field>
        <field name="model">stock.valuation.layer</field>
        <field name="arch" type="xml">
            <tree default_order="create_date asc">
                <field name="create_date" />
                <field name="reference" />
                <button
                    name="action_open_journal_entry"
                    groups="account.group_account_user"
                    type="object"
                    title="Journal Entry"
                    icon="fa-book"
                    invisible="not account_move_id" />
                <field name="account_move_id" optional="1" />
                <field name="account_move_state" optional="1" />
                <field name="product_id" />
                <field name="active" optional="1"  />
                <field name="opening_qty" decoration-info="1" />
                <field name="opening_val" optional="1" decoration-info="1" />
                <field name="inbound_qty" sum="Total Inbound Quantity" />
                <field name="inbound_val" optional="1" sum="Total Inbound Value" />
                <field name="quantity" optional="1" sum="Total Quantity" />
                <field name="outbound_qty" sum="Total Outbound Quantity" />
                <field name="outbound_val" optional="1" sum="Total Outbound Value" />
                <field name="closing_qty" decoration-success="1" />
                <field name="closing_val" optional="1" decoration-success="1" />
                <field name="qty_balances_computed" optional="1" />
                <!-- <field name="partner_id" optional="1" /> -->
                <field name="partner_move_id" optional="1" />
                <field name="depart_id" optional="1" />
                <field name="prev_avcost" optional="1" decoration-info="1" />
                <field name="unit_cost" optional="1" />
                <field name="avcost" optional="1" decoration-success="1" />
                <field name="uom_id" />
                <field name="currency_id" column_invisible="True" />
                <field name="value" sum="Total Value" />
                <field name="description" optional="1" />
                <button name="action_transfer_to_stock_valuation_layer_form"
                    type="object"
                    string="Open Form"
                    class="btn-primary" />

                <field name="create_date" optional="1" />
                <field name="create_uid" optional="1" />
                <field name="write_date" optional="1" />
                <field name="write_uid" optional="1" />
            </tree>
        </field>
    </record>

    <record id="stock_valuation_layer_form_simple" model="ir.ui.view">
        <field name="name">stock.valuation.layer.tree.simple</field>
        <field name="model">stock.valuation.layer</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="allow_edit" />
                            <field name="active" readonly=" allow_edit == False "  />
                            <field name="product_id" readonly=" allow_edit == False " />
                            <field name="categ_id" />
                            <field name="mhma_account_move_id" readonly=" allow_edit == False " />
                            <field name="account_move_state" />
                            <field name="mhma_create_date" readonly=" allow_edit == False " />
                            <field name="company_id" readonly="1" />
                        </group>
                        <group>
                            <field name="qty_mhma" readonly="1" force_save="1" />
                            <field name="unit_cost_mhma" readonly=" allow_edit == False " />
                            <field name="value_mhma" readonly=" allow_edit == False " />
                            <field name="stock_move_id" readonly=" allow_edit == False " />
                            <field name="reference"  />
                        </group>
                    </group>
                    <group name="base" string="Base">
                        <group>
                            <field name="create_date" />
                            <field name="product_id" />
                            <field name="reference" />
                            <field name="account_move_line_id" />
                        </group>
                        <group>
                            <field name="account_move_id" />
                            <field name="quantity" />
                            <field name="unit_cost" />
                            <field name="value" />
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" />
                    <field name="activity_ids" />
                    <field name="message_ids" />
                </div>
            </form>
        </field>
    </record>


</odoo>